<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UFABCHESS • Admin</title>
  <link rel="stylesheet" href="./styles/admin.css">
</head>
<body>

  <!-- ── Header ────────────────────────────── -->
  <div class="admin-header">
    <div>
      <span class="admin-logo">♟ UFABCHESS</span>
      <span class="admin-badge">Painel Administrativo</span>
    </div>
    <div class="admin-header-right">
      <span id="referee-name" class="referee-name"></span>
      <button id="logout" class="btn-logout">Sair</button>
    </div>
  </div>

  <div class="admin-container">

    <!-- ══════════════════════════════════════
         SEÇÃO 1 — REGISTRO DE RESULTADOS
    ══════════════════════════════════════ -->
    <section class="admin-section">
      <h2 class="section-title">Registro de Resultados</h2>

      <!-- Seletor de sessão -->
      <div class="session-selector" id="session-selector">
        <label class="field-label">Torneio do Dia</label>
        <select id="session-select" class="admin-select">
          <option value="">Carregando...</option>
        </select>
      </div>

      <!-- Tabs de rodada -->
      <div id="round-tabs" class="round-tabs" style="display:none;"></div>

      <!-- Cards de partidas -->
      <div id="match-cards" class="match-cards-grid"></div>

      <!-- Estado vazio -->
      <div id="cards-empty" class="cards-empty" style="display:none;">
        <p>Selecione um torneio do dia para ver as partidas.</p>
      </div>
    </section>

    <!-- ══════════════════════════════════════
         SEÇÃO 2 — PARTIDAS RECENTES
    ══════════════════════════════════════ -->
    <section class="admin-section">
      <h2 class="section-title">Partidas Recentes</h2>
      <ul id="matches-list" class="matches-list"></ul>
    </section>

    <!-- ══════════════════════════════════════
         SEÇÃO 3 — GERENCIAR TORNEIOS DO DIA
    ══════════════════════════════════════ -->
    <section class="admin-section">
      <h2 class="section-title">Gerenciar Torneios do Dia</h2>

      <fieldset class="admin-fieldset">
        <legend>Novo Torneio do Dia</legend>

        <div class="fields-row">
          <label class="field-label">
            Torneio (Edição)
            <select id="week-tournament-select" class="admin-select" required>
              <option value="">Selecione o torneio</option>
            </select>
          </label>

          <label class="field-label">
            Nº do Torneio
            <input type="number" id="week-number" class="admin-input" min="1" placeholder="Ex: 1" required>
          </label>

          <label class="field-label">
            Data
            <input type="date" id="week-date" class="admin-input" required>
          </label>

          <label class="field-label">
            Máx. Jogadores
            <input type="number" id="week-max-players" class="admin-input" value="18" min="2" max="50">
          </label>
        </div>

        <button type="button" id="btn-create-week" class="btn-primary">
          + Criar Torneio do Dia
        </button>
      </fieldset>

      <ul id="weeks-list" class="matches-list" style="margin-top:16px;"></ul>
    </section>

    <div style="margin-top:8px;">
      <a href="./admin-rollbacks.html" class="btn-link">↗ Histórico de rollbacks</a>
    </div>

  </div><!-- /admin-container -->

  <!-- ── Modal de confirmação de resultado ── -->
  <div id="result-modal" class="modal-overlay" style="display:none;">
    <div class="modal-box">
      <div class="modal-title" id="modal-title">Confirmar resultado</div>
      <div class="modal-matchup" id="modal-matchup"></div>
      <div class="modal-result-badge" id="modal-result-badge"></div>
      <div class="modal-actions">
        <button id="modal-confirm" class="btn-primary">Confirmar</button>
        <button id="modal-cancel" class="btn-secondary">Cancelar</button>
      </div>
    </div>
  </div>

  <script type="module" src="./scripts/admin.js"></script>
  <script type="module" src="./scripts/admin-weeks.js"></script>
</body>
</html>